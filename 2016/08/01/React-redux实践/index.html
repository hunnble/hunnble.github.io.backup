<!DOCTYPE html>
<html lang="zh-Hans">

<!-- Head tag -->
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!--Description-->
    
        <meta name="description" content="90åï¼Œå¼‚æ€§æ‹ï¼Œé£å¤©æ‹‰é¢æ•™ï¼Œæ¢¦æƒ³æ˜¯å˜èƒ–ã€‚æœ€æƒ³æˆä¸ºçš„äººæ˜¯æŒªå¨çš„æ£®æ—é‡Œçš„æ¸¡è¾¹ï¼Œå…¶æ¬¡æƒ³æˆä¸ºå—æ–¹å…¬å›­é‡Œçš„Eric Cartmanã€‚">
    

    <!--Author-->
    
        <meta name="author" content="Noski">
    

    <!-- Title -->
    
    <title>React-reduxå®è·µ | åŒ—æ–¹å…¬å›­</title>

    <!-- Bootstrap Core CSS -->
    <link href="//cdn.bootcss.com/bootstrap/3.3.6/css/bootstrap.min.css" rel="stylesheet">

    <!-- Custom CSS -->
    <link rel="stylesheet" href="/css/style.css">

    <!-- Custom Fonts -->
    <link href="//cdn.bootcss.com/font-awesome/4.5.0/css/font-awesome.min.css" rel="stylesheet" type="text/css">
    <link href='//fonts.googleapis.com/css?family=Lora:400,700,400italic,700italic' rel='stylesheet' type='text/css'>
    <link href='//fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800' rel='stylesheet' type='text/css'>

    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
    <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->
</head>

<body>

    <!-- Content -->
    <section class="article-container">
<!-- Back Home -->
<a class="nav-back" href="/">
    <i class="fa fa-puzzle-piece"></i>
</a>

<!-- Page Header -->
<header class="intro-header">
    <div class="container">
        <div class="row">
            <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
                <div class="post-heading">
                    <h1>React-reduxå®è·µ</h1>
                </div>
            </div>
        </div>
    </div>
</header>

<!-- Post Content -->
<article>
    <div class="container">
        <div class="row">
            <!-- Post Main Content -->
            <div class="post-content col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
                <p>å¯¹äºå¤æ‚çš„å•é¡µé¢åº”ç”¨ï¼ŒçŠ¶æ€ï¼ˆstateï¼‰ç®¡ç†éå¸¸é‡è¦ã€‚state å¯èƒ½åŒ…æ‹¬ï¼šæœåŠ¡ç«¯çš„å“åº”æ•°æ®ã€æœ¬åœ°å¯¹å“åº”æ•°æ®çš„ç¼“å­˜ã€æœ¬åœ°åˆ›å»ºçš„æ•°æ®ï¼ˆæ¯”å¦‚ï¼Œè¡¨å•æ•°æ®ï¼‰ä»¥åŠä¸€äº› UI çš„çŠ¶æ€ä¿¡æ¯ï¼ˆæ¯”å¦‚ï¼Œè·¯ç”±ã€é€‰ä¸­çš„ tabã€æ˜¯å¦æ˜¾ç¤ºä¸‹æ‹‰åˆ—è¡¨ã€é¡µç æ§åˆ¶ç­‰ç­‰ï¼‰ã€‚å¦‚æœ state å˜åŒ–ä¸å¯é¢„æµ‹ï¼Œå°±ä¼šéš¾äºè°ƒè¯•ï¼ˆstate ä¸æ˜“é‡ç°ï¼Œå¾ˆéš¾å¤ç°ä¸€äº› bugï¼‰å’Œä¸æ˜“äºæ‰©å±•ï¼ˆæ¯”å¦‚ï¼Œä¼˜åŒ–æ›´æ–°æ¸²æŸ“ã€æœåŠ¡ç«¯æ¸²æŸ“ã€è·¯ç”±åˆ‡æ¢æ—¶è·å–æ•°æ®ç­‰ç­‰ï¼‰ã€‚<br>reduxè§£å†³äº†stateçš„é—®é¢˜<a id="more"></a>ï¼Œå®ƒçš„ç‰¹ç‚¹æ²¿è¢­äº†fluxï¼Œä¸»è¦æœ‰ï¼š</p>
<ul>
<li>state ä»¥å•ä¸€å¯¹è±¡å­˜å‚¨åœ¨ store å¯¹è±¡ä¸­</li>
<li>state åªè¯»</li>
<li>ä½¿ç”¨çº¯å‡½æ•° reducer æ‰§è¡Œ state æ›´æ–°</li>
</ul>
<blockquote>
<p>state ä¸ºå•ä¸€å¯¹è±¡ï¼Œä½¿å¾— Redux åªéœ€è¦ç»´æŠ¤ä¸€æ£µçŠ¶æ€æ ‘ï¼ŒæœåŠ¡ç«¯å¾ˆå®¹æ˜“åˆå§‹åŒ–çŠ¶æ€ï¼Œæ˜“äºæœåŠ¡å™¨æ¸²æŸ“ã€‚state åªèƒ½é€šè¿‡ dispatch(action) æ¥è§¦å‘æ›´æ–°ï¼Œæ›´æ–°é€»è¾‘ç”± reducer æ¥æ‰§è¡Œã€‚</p>
</blockquote>
<p><img src="http://staltz.com/img/redux-unidir-ui-arch.jpg" alt="redux"><br>å›¾æ¥è‡ª <a href="http://staltz.com/unidirectional-user-interface-architectures.html" target="_blank" rel="external">UNIDIRECTIONAL USER INTERFACE ARCHITECTURES</a></p>
<h3 id="action"><a href="#action" class="headerlink" title="action"></a>action</h3><p>actionä¸€èˆ¬æ˜¯å‘storeä¼ é€’ç”¨æˆ·çš„äº¤äº’ä¿¡æ¯ã€‚dispatchä¸€ä¸ªactionæ˜¯ä¸€ä¸ªåŒæ­¥çš„è¿‡ç¨‹ï¼Œæ›´æ–° state -&gt; è°ƒç”¨ store çš„ç›‘å¬å¤„ç†å‡½æ•°ã€‚å¦‚æœéœ€è¦åœ¨ dispatch æ—¶æ‰§è¡Œä¸€äº›å¼‚æ­¥æ“ä½œï¼ˆfetch action dataï¼‰ï¼Œå¯ä»¥é€šè¿‡å¼•å…¥ Middleware è§£å†³ã€‚</p>
<h3 id="reducer"><a href="#reducer" class="headerlink" title="reducer"></a>reducer</h3><p>reducer å®é™…ä¸Šå°±æ˜¯ä¸€ä¸ªå‡½æ•°ï¼š<code>(previousState, action) =&gt; newState</code>ã€‚ç”¨æ¥æ‰§è¡Œæ ¹æ®æŒ‡å®š action æ¥æ›´æ–° state çš„é€»è¾‘ã€‚é€šè¿‡ <code>combineReducers(reducers)</code> å¯ä»¥æŠŠå¤šä¸ª reducer åˆå¹¶æˆä¸€ä¸ª root reducerã€‚</p>
<h3 id="state"><a href="#state" class="headerlink" title="state"></a>state</h3><p>stateçš„ä¸»è¦ç‰¹å¾ï¼š</p>
<ul>
<li>ç®¡ç†åº”ç”¨çš„ state</li>
<li>é€šè¿‡ <code>store.getState()</code> å¯ä»¥è·å– state</li>
<li>é€šè¿‡ <code>store.dispatch(action)</code> æ¥è§¦å‘ state æ›´æ–°</li>
<li>é€šè¿‡ <code>store.subscribe(listener)</code> æ¥æ³¨å†Œ state å˜åŒ–ç›‘å¬å™¨</li>
<li>é€šè¿‡ <code>createStore(reducer, [initialState])</code> åˆ›å»º<h3 id="middleware"><a href="#middleware" class="headerlink" title="middleware"></a>middleware</h3>å•é¡µé¢åº”ç”¨ä¸­å……æ–¥ç€å¤§é‡çš„å¼‚æ­¥è¯·æ±‚ï¼ˆajaxï¼‰ã€‚dispatch(action) æ˜¯åŒæ­¥çš„ï¼Œå¦‚æœè¦å¤„ç†å¼‚æ­¥ actionï¼Œéœ€è¦ä½¿ç”¨ä¸€äº›ä¸­é—´ä»¶ã€‚<br>ä¸­é—´ä»¶æ˜¯æŸç§å®ç°ç‰¹å®šåŠŸèƒ½çš„é«˜é˜¶å‡½æ•°ï¼Œä½œç”¨äº dispatch è¿”å›ä¸€ä¸ªæ–°çš„ dispatchï¼ˆé™„åŠ äº†è¯¥ä¸­é—´ä»¶åŠŸèƒ½ï¼‰ã€‚<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="function"><span class="keyword">function</span> <span class="title">thunkMiddleware</span>(<span class="params">&#123; dispatch, getState &#125;</span>) </span>&#123;</div><div class="line">    <span class="keyword">return</span> <span class="function"><span class="params">next</span> =&gt;</span> action =&gt;</div><div class="line">        <span class="keyword">typeof</span> action === <span class="string">'function'</span> ? action(dispatch, getState) : next(action)</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
</ul>
<p>é€šè¿‡ thunk-middleware æˆ‘ä»¬å¯ä»¥çœ‹å‡ºä¸­é—´ä»¶çš„ä¸€èˆ¬å½¢å¼ï¼šä¸­é—´ä»¶å‡½æ•°æ¥å—ä¸¤ä¸ªå‚æ•°å‚æ•°ï¼š dispatch å’Œ getStateï¼ˆä¹Ÿå°±æ˜¯è¯´ä¸­é—´ä»¶å¯ä»¥è·å– state ä»¥åŠ dispatch new actionï¼‰ã€‚ä¸­é—´ä»¶ä¸€èˆ¬è¿”å› next(action)ã€‚store çš„åˆ›å»ºè¿‡ç¨‹å¦‚ä¸‹ï¼š<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">const</span> reducer = combineReducers(reducers)</div><div class="line"><span class="keyword">const</span> finalCreateStore = applyMiddleware(promiseMiddleware, warningMiddleware,</div><div class="line">    loggerMiddleWare)(createStore)</div><div class="line"><span class="keyword">const</span> store = finalCreateStore(reducer)</div></pre></td></tr></table></figure></p>

 
                <!-- Meta -->
                <div class="post-meta">
                    <hr>
                    <br>
                    <div class="post-tags">
                        
                            

<a href="/tag/å‰ç«¯/">#å‰ç«¯</a> <a href="/tag/React/">#React</a>


                        
                    </div>
                    <div class="post-date">
                        2016 å¹´ 08 æœˆ 01 æ—¥
                    </div>
                </div>
            </div>

            <!-- Comments -->
            <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
                <!-- Disqus Comments -->


            </div>
        </div>
    </div>
</article>
</section>

    <!-- Scripts -->
    <!-- jQuery -->
<script src="//cdn.bootcss.com/jquery/2.2.1/jquery.min.js"></script>
<!-- Bootstrap -->
<script src="//cdn.bootcss.com/bootstrap/3.3.6/js/bootstrap.min.js"></script>

<script type="text/javascript">
	console.log('Hexo-theme-hollow designed by zchen9 ğŸ™‹ Â© 2015-' + (new Date()).getFullYear());
</script>

    <!-- Google Analytics -->
    

</body>

</html>